<!-- markdownlint-disable MD002 MD041 -->

В этом разделе вы добавим возможность создания событий в календаре пользователя.

1. Откройте **GraphManager.swift** и добавьте следующую функцию для создания нового события в календаре пользователя.

    :::code language="swift" source="../demo/GraphTutorial/GraphTutorial/GraphManager.swift" id="CreateEventSnippet":::

1. Создайте файл **класса Cocoa Touch в** папке **GraphTutorial** с именем `NewEventViewController` . Выберите **UIViewController** в **подклассе** поля.
1. Откройте **NewEventViewController.swift** и замените его содержимое на следующее.

    :::code language="swift" source="../demo/GraphTutorial/GraphTutorial/NewEventViewController.swift" id="NewEventViewControllerSnippet":::

1. Откройте **main.storyboard.** Используйте **библиотеку для** перетаскивания **контроллера представления** в storyboard.
1. С помощью **библиотеки добавьте** на контроллер представления **панели** навигации.
1. Дважды щелкните **заголовок** на панели навигации и обновите его до `New Event` .
1. С помощью **библиотеки добавьте** элемент кнопки **панели** в левую часть панели навигации.
1. Выберите новую кнопку панели, а затем — **инспектор атрибутов.** Измените **заголовок** на `Cancel` .
1. С помощью **библиотеки добавьте** элемент кнопки **панели** в правую часть панели навигации.
1. Выберите новую кнопку панели, а затем — **инспектор атрибутов.** Измените **заголовок** на `Create` .
1. Выберите контроллер представления, а затем выберите **инспектор удостоверений.** Измените **класс** **на NewEventViewController.**
1. Добавьте в представление следующие элементы **управления** из библиотеки.

    - Добавьте **метку** под панели навигации. За установите его текст `Subject` .
    - Добавьте **текстовое поле** под меткой. **Задайте для атрибута Placeholder** задайте его `Subject` ..
    - Добавьте **метку** под текстовым полем. За установите его текст `Attendees` .
    - Добавьте **текстовое поле** под меткой. **Задайте для атрибута Placeholder** задайте его `Separate multiple entries with ;` ..
    - Добавьте **метку** под текстовым полем. За установите его текст `Start` .
    - Добавьте под **меткой "Выбор** даты". Установите для **предпочитаемого** стиля **компактный,** **его интервал** **составляет 15** минут, а высоту **35.**
    - Добавьте **метку** в подстройку "Выбор даты". За установите его текст `End` .
    - Добавьте под **меткой "Выбор** даты". Установите для **предпочитаемого** стиля **компактный,** **его интервал** **составляет 15** минут, а высоту **35.**
    - Добавьте представление **текста в** подстройке "Выбор даты".

1. Выберите новый **контроллер представления событий** и используйте connection **Inspector** для подключения к следующим подключениям.

    - Подключите **полученное** действие отмены к **кнопке** "Отмена панели".
    - Подключите **полученное действие createEvent** к кнопке **"Создать** планку".
    - Подключите **розетку темы** к первому текстовом полю.
    - Подключите **выход участников** к второму текстовом полю.
    - Подключите **точки** начала к первому выбору даты.
    - Подключите **конечный** выход к второму выбору даты.
    - Подключите **выходной текст** к текстовом представлению.

1. Добавьте следующие ограничения.

    - **Панель навигации**
        - Пробел в безопасную зону, значение: 0
        - После пробела в "Безопасная область", значение: 0
        - Верхнее место в безопасной области, значение: 0
        - Высота, значение: 44
    - **Метка темы**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее пространство для панели навигации, значение: 20
    - **Поле "Текст темы"**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее пространство для метки субъекта, значение: Стандартный
    - **Метка "Участники"**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее пространство для текстового поля темы, значение: Стандартный
    - **Текстовое поле участников**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Top space to Attendees Label, value: Standard
    - **Метка "Начните"**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее пространство для текстового поля темы, значение: Стандартный
    - **Выбор даты начала**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Top space to Attendees Label, value: Standard
        - Высота, значение: 35
    - **End Label**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее место для начала выбор даты, значение: Стандартный
    - **Выбор даты окончания**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Верхнее место в конце метки, значение: Стандартный
        - Высота: 35
    - **Представление текста в тексте**
        - Пробел в поле представления, значение: 0
        - В окн. место в поле просмотра, значение: 0
        - Top space to End Date Picker, value: Standard
        - Нижнее пространство для поля просмотра, значение: 0

    ![Снимок экрана: новая форма события в storyboard](images/new-event-form.png)

1. Выберите **"Сцена календаря",** а затем выберите **"Connections Inspector".**
1. В **области "Триггерные сеги"** перетащите незаполненный круг рядом с вручную на контроллер представления нового события в storyboard.   Выберите **"Представить" модально** во всплывающее меню.
1. Выберите только что добавленную сегу, а затем — **инспектор атрибутов.** Установите **для поля "Идентификатор" (Identifier)** `showEventForm` (Идентификатор).
1. Подключите **полученное действие showNewEventForm** к кнопке **+** панели навигации.
1. Сохраните изменения и перезапустите приложение. Перейдите на страницу календаря и нажмите **+** кнопку. Заполните форму и нажмите **кнопку "Создать",** чтобы создать новое событие.

    ![Снимок экрана с новой формой события](images/create-event.png)
